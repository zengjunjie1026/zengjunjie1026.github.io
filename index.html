<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 6.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha256-HtsXJanqjKTc8vVQjO4YMhiqFoXkfBsjBWcX91T1jr8=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"zengjunjie1026.github.io","root":"/","images":"/images","scheme":"Muse","darkmode":false,"version":"8.18.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":{"enable":false,"style":null},"fold":{"enable":false,"height":500},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"}}</script><script src="/js/config.js"></script>

    <meta name="description" content="做自己爱做的事，爱自己在做的事！">
<meta property="og:type" content="website">
<meta property="og:title" content="分子美食家的博客">
<meta property="og:url" content="https://zengjunjie1026.github.io/index.html">
<meta property="og:site_name" content="分子美食家的博客">
<meta property="og:description" content="做自己爱做的事，爱自己在做的事！">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="andrew">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://zengjunjie1026.github.io/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"zh-CN","comments":"","permalink":"","path":"index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>分子美食家的博客</title>
  








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">分子美食家的博客</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">记录学习的技能和遇到的问题</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="搜索" role="button">
    </div>
  </div>
</div>







</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">andrew</p>
  <div class="site-description" itemprop="description">做自己爱做的事，爱自己在做的事！</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">67</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">5</span>
        <span class="site-state-item-name">标签</span>
      </div>
  </nav>
</div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://zengjunjie1026.github.io/2023/08/22/python%E5%A4%9A%E5%B1%82list%E8%A7%A3%E5%B5%8C%E5%A5%97/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="andrew">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="分子美食家的博客">
      <meta itemprop="description" content="做自己爱做的事，爱自己在做的事！">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 分子美食家的博客">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/08/22/python%E5%A4%9A%E5%B1%82list%E8%A7%A3%E5%B5%8C%E5%A5%97/" class="post-title-link" itemprop="url">python多层list解嵌套</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2023-08-22 10:58:58 / 修改时间：10:59:10" itemprop="dateCreated datePublished" datetime="2023-08-22T10:58:58+08:00">2023-08-22</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="任意嵌套"><a href="#任意嵌套" class="headerlink" title="任意嵌套"></a>任意嵌套</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">flatten</span>(<span class="params">input_list</span>):</span><br><span class="line">    output_list = []</span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        <span class="keyword">if</span> input_list == []:</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">for</span> index, i <span class="keyword">in</span> <span class="built_in">enumerate</span>(input_list):</span><br><span class="line">            <span class="keyword">if</span> <span class="built_in">type</span>(i)== <span class="built_in">list</span>:</span><br><span class="line">                input_list = i + input_list[index+<span class="number">1</span>:]</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                output_list.append(i)</span><br><span class="line">                input_list.pop(index)</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">return</span> output_list</span><br></pre></td></tr></table></figure>

<h2 id="两层嵌套"><a href="#两层嵌套" class="headerlink" title="两层嵌套"></a>两层嵌套</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">directors = [[<span class="string">&#x27;迈克尔·贝&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;吕寅荣&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;罗伯·马歇尔&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;张艺谋&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;韩三平&#x27;</span>, <span class="string">&#x27;黄建新&#x27;</span>, <span class="string">&#x27;李少红&#x27;</span>, <span class="string">&#x27;沈东&#x27;</span>, <span class="string">&#x27;陆川&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;大卫·叶茨&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;徐克&#x27;</span>, <span class="string">&#x27;张之亮&#x27;</span>, <span class="string">&#x27;蔡晶胜&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;滕华涛&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;拉加·高斯内尔&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;林诣彬&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;乔纳森·里贝斯曼&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;陈木胜&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;麦兆辉&#x27;</span>, <span class="string">&#x27;庄文强&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;张一白&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;尚敬&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;鲁伯特·瓦耶特&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;陈可辛&#x27;</span>, <span class="string">&#x27;李映辉&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;程小东&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;陈庆嘉&#x27;</span>, <span class="string">&#x27;秦小珍&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;姜文&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;徐峥&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;詹姆斯·卡梅隆&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;乌尔善&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;布拉德·伯德&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;李安&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;乔斯·韦登&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;成龙&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;成龙&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;巴里·索南菲尔德&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;史蒂夫·马蒂诺&#x27;</span>, <span class="string">&#x27;麦克·特米尔&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;布拉德·佩顿&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;冯小刚&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;克里斯托弗·诺兰&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;西蒙·韦斯特&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;马克·韦布&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;彼得·博格&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;安德鲁·斯坦顿&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;陆剑青&#x27;</span>, <span class="string">&#x27;梁乐民&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;麦兆辉&#x27;</span>, <span class="string">&#x27;庄文强&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;雷德利·斯科特&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;托尼·吉尔罗伊&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;周星驰&#x27;</span>, <span class="string">&#x27;郭子健&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;沙恩·布莱克&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;赵薇&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;吉尔莫·德尔·托罗&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;徐克&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;冯小刚&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;陈可辛&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;薛晓路&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;郭敬明&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;阿方索·卡隆&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;林诣彬&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;柯克·德·米科&#x27;</span>, <span class="string">&#x27;克里斯·桑德斯&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;扎克·施奈德&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;萨姆·门德斯&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;J·J·艾布拉姆斯&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;史蒂文·斯皮尔伯格&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;丁晟&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;阿兰·泰勒&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;朱浩伟&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;迈克尔·贝&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;宁浩&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;郑保瑞&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;克里斯托弗·诺兰&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;布莱恩·辛格&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;安东尼·罗素&#x27;</span>, <span class="string">&#x27;乔·罗素&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;马特·里夫斯&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;谢涤葵&#x27;</span>, <span class="string">&#x27;林妍&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;邓超&#x27;</span>, <span class="string">&#x27;俞白眉&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;韩寒&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;詹姆斯·古恩&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;马克·韦布&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;张一白&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;王晶&#x27;</span>, <span class="string">&#x27;钟少雄&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;郭敬明&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;姜文&#x27;</span>, <span class="string">&#x27;林佳俊&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;加里斯·爱德华斯&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;彼得·杰克逊&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;郭帆&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;帕特里克·休斯&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;许诚毅&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;温子仁&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;徐峥&#x27;</span>, <span class="string">&#x27;阮惟新&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;乔斯·韦登&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;闫非&#x27;</span>, <span class="string">&#x27;彭大魔&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;科林·特雷沃罗&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;乌尔善&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;大鹏&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;王晶&#x27;</span>, <span class="string">&#x27;张敏&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;田晓鹏&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;克里斯托弗·麦奎里&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;彼得·杰克逊&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;李仁港&#x27;</span>, <span class="string">&#x27;成龙&#x27;</span>, <span class="string">&#x27;肖昂&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;阿兰·泰勒&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;让-雅克·阿诺&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;陆川&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;佩顿·里德&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;布拉德·佩顿&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;邓超&#x27;</span>, <span class="string">&#x27;俞白眉&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;雷德利·斯科特&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;周星驰&#x27;</span>, <span class="string">&#x27;林子聪&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;拜伦·霍华德&#x27;</span>, <span class="string">&#x27;瑞奇·摩尔&#x27;</span>, <span class="string">&#x27;杰拉德·布什&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;邓肯·琼斯&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;安东尼·罗素&#x27;</span>, <span class="string">&#x27;乔·罗素&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;郑保瑞&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;林超贤&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;刘伟强&#x27;</span>, <span class="string">&#x27;王晶&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;李仁港&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;吕寅荣&#x27;</span>, <span class="string">&#x27;亚历山德罗·卡罗尼&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;张艺谋&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;乔恩·费儒&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;雷尼·哈林&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;张一白&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;J·J·艾布拉姆斯&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;布莱恩·辛格&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;薛晓路&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;叶伟信&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;斯科特·德瑞克森&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;陈思诚&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;梁乐民&#x27;</span>, <span class="string">&#x27;陆剑青&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;吴京&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;F·加里·格雷&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;宋阳&#x27;</span>, <span class="string">&#x27;张吃鱼&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;唐季礼&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;徐克&#x27;</span>, <span class="string">&#x27;周星驰&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;迈克尔·贝&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;涅提·蒂瓦里&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;冯小刚&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;乔阿吉姆·罗恩尼&#x27;</span>, <span class="string">&#x27;艾斯彭·山德伯格&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;乔丹·沃格特-罗伯茨&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;李·昂克里奇&#x27;</span>, <span class="string">&#x27;阿德里安·莫利纳&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;D·J·卡卢索&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;保罗·安德森&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;韩寒&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;皮埃尔·柯芬&#x27;</span>, <span class="string">&#x27;凯尔·巴尔达&#x27;</span>, <span class="string">&#x27;埃里克·吉隆&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;乔·沃茨&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;王宝强&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;塔伊加·维迪提&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;马特·里夫斯&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;詹姆斯·曼高德&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;林超贤&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;陈思诚&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;文牧野&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;闫非&#x27;</span>, <span class="string">&#x27;彭大魔&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;安东尼·罗素&#x27;</span>, <span class="string">&#x27;乔·罗素&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;许诚毅&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;鲁本·弗雷斯彻&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;温子仁&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;胡安·安东尼奥·巴亚纳&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;田羽生&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;史蒂文·斯皮尔伯格&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;刘若英&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;黄渤&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;庄文强&#x27;</span>, <span class="string">&#x27;麦兆辉&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;克里斯托弗·麦奎里&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;乔·德特杜巴&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;布拉德·佩顿&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;苏伦&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;佩顿·里德&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;饶晓志&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;饺子&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;郭帆&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;乔·罗素&#x27;</span>, <span class="string">&#x27;安东尼·罗素&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;陈凯歌&#x27;</span>, <span class="string">&#x27;张一白&#x27;</span>, <span class="string">&#x27;管虎&#x27;</span>, <span class="string">&#x27;薛晓路&#x27;</span>, <span class="string">&#x27;徐峥&#x27;</span>, <span class="string">&#x27;宁浩&#x27;</span>, <span class="string">&#x27;文牧野&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;刘伟强&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;宁浩&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;韩寒&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;陈国辉&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;曾国祥&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;大卫·雷奇&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;乔·沃茨&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;邱礼涛&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;特拉维斯·奈特&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;李仁港&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;安娜·波顿&#x27;</span>, <span class="string">&#x27;瑞安·弗雷克&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;林孝谦&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;迈克尔·道赫蒂&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;罗伯特·罗德里格兹&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;邓超&#x27;</span>, <span class="string">&#x27;俞白眉&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;乔恩·费儒&#x27;</span>]]</span><br><span class="line"><span class="number">1</span></span><br><span class="line">​</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"><span class="comment"># 要将P转化成[1,2,3,4,5,6]</span></span><br><span class="line"> </span><br><span class="line">Director = [person <span class="keyword">for</span> directors <span class="keyword">in</span> director <span class="keyword">for</span> person <span class="keyword">in</span> directors]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">## 结果为</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">[<span class="string">&#x27;迈克尔·贝&#x27;</span>,</span><br><span class="line"> <span class="string">&#x27;吕寅荣&#x27;</span>,</span><br><span class="line"> <span class="string">&#x27;罗伯·马歇尔&#x27;</span>,</span><br><span class="line"> <span class="string">&#x27;张艺谋&#x27;</span>,</span><br><span class="line"> <span class="string">&#x27;韩三平&#x27;</span>,</span><br><span class="line"> <span class="string">&#x27;黄建新&#x27;</span>,</span><br><span class="line"> <span class="string">&#x27;李少红&#x27;</span>,</span><br><span class="line"> <span class="string">&#x27;沈东&#x27;</span>,</span><br><span class="line"> <span class="string">&#x27;陆川&#x27;</span>,</span><br><span class="line"> <span class="string">&#x27;大卫·叶茨&#x27;</span>,</span><br><span class="line"> <span class="string">&#x27;徐克&#x27;</span>,</span><br><span class="line"> <span class="string">&#x27;张之亮&#x27;</span>,</span><br><span class="line"> <span class="string">&#x27;蔡晶胜&#x27;</span>,</span><br><span class="line"> <span class="string">&#x27;滕华涛&#x27;</span>,</span><br><span class="line"> <span class="string">&#x27;拉加·高斯内尔&#x27;</span>,</span><br><span class="line"> <span class="string">&#x27;林诣彬&#x27;</span>]</span><br><span class="line"></span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://zengjunjie1026.github.io/2023/08/22/mongodb%E6%96%B0%E5%BB%BA%E7%94%A8%E6%88%B7/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="andrew">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="分子美食家的博客">
      <meta itemprop="description" content="做自己爱做的事，爱自己在做的事！">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 分子美食家的博客">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/08/22/mongodb%E6%96%B0%E5%BB%BA%E7%94%A8%E6%88%B7/" class="post-title-link" itemprop="url">mongodb新建用户</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2023-08-22 07:27:40 / 修改时间：07:40:12" itemprop="dateCreated datePublished" datetime="2023-08-22T07:27:40+08:00">2023-08-22</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">db.createUser(&#123; </span><br><span class="line">    user: <span class="string">&quot;admin&quot;</span>, </span><br><span class="line">    <span class="built_in">pwd</span>: <span class="string">&quot;---------&quot;</span>, </span><br><span class="line">    roles: [ &#123; role: <span class="string">&quot;root&quot;</span>, db: <span class="string">&quot;admin&quot;</span> &#125; ], </span><br><span class="line">    mechanisms : [<span class="string">&quot;SCRAM-SHA-1&quot;</span>] </span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>


<ol>
<li>登录数据库</li>
</ol>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">/path/mongo  <span class="attribute">--host</span>=172.16.218.27 <span class="attribute">--port</span>=27017 -u username  -p <span class="string">&#x27;XXX&#x27;</span>  <span class="attribute">--authenticationDatabase</span>=admin</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<ol start="2">
<li>查看 admin库表</li>
</ol>
<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&gt; use <span class="keyword">admin</span></span><br><span class="line">&gt; <span class="keyword">show</span> <span class="keyword">tables</span></span><br><span class="line"></span><br><span class="line">&gt; <span class="keyword">show</span> <span class="keyword">tables</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">system</span>.users</span><br><span class="line"><span class="keyword">system</span>.<span class="keyword">version</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ol start="3">
<li>查看各表数据</li>
</ol>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt; db<span class="selector-class">.system</span><span class="selector-class">.version</span><span class="selector-class">.find</span>()<span class="selector-class">.pretty</span>()</span><br><span class="line">&#123; <span class="string">&quot;_id&quot;</span> : <span class="string">&quot;featureCompatibilityVersion&quot;</span>, <span class="string">&quot;version&quot;</span> : <span class="string">&quot;3.4&quot;</span> &#125;</span><br><span class="line">&#123; <span class="string">&quot;_id&quot;</span> : <span class="string">&quot;authSchema&quot;</span>, <span class="string">&quot;currentVersion&quot;</span> : <span class="number">5</span> &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight prolog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line">&gt; use admin</span><br><span class="line">&gt; db.system.users.find().pretty()</span><br><span class="line">&#123;</span><br><span class="line">        <span class="string">&quot;_id&quot;</span> : <span class="string">&quot;admin.superUser&quot;</span>,</span><br><span class="line">        <span class="string">&quot;user&quot;</span> : <span class="string">&quot;superUser&quot;</span>,</span><br><span class="line">        <span class="string">&quot;db&quot;</span> : <span class="string">&quot;admin&quot;</span>,</span><br><span class="line">        <span class="string">&quot;credentials&quot;</span> : &#123;</span><br><span class="line">                <span class="string">&quot;SCRAM-SHA-1&quot;</span> : &#123;</span><br><span class="line">                        <span class="string">&quot;iterationCount&quot;</span> : <span class="number">10000</span>,</span><br><span class="line">                        <span class="string">&quot;salt&quot;</span> : <span class="string">&quot;dBhasH+fHybp6BKy5sPJFw==&quot;</span>,</span><br><span class="line">                        <span class="string">&quot;storedKey&quot;</span> : <span class="string">&quot;6yQsEZsAt4PH6OO/jKMqLiIHTqg=&quot;</span>,</span><br><span class="line">                        <span class="string">&quot;serverKey&quot;</span> : <span class="string">&quot;6GDMJwJCZ833kP/jCdj0VKOd+k0=&quot;</span></span><br><span class="line">                &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="string">&quot;roles&quot;</span> : [</span><br><span class="line">                &#123;</span><br><span class="line">                        <span class="string">&quot;role&quot;</span> : <span class="string">&quot;root&quot;</span>,</span><br><span class="line">                        <span class="string">&quot;db&quot;</span> : <span class="string">&quot;admin&quot;</span></span><br><span class="line">                &#125;</span><br><span class="line">        ]</span><br><span class="line">&#125;</span><br><span class="line">&#123;</span><br><span class="line">        <span class="string">&quot;_id&quot;</span> : <span class="string">&quot;testDB01.testUser01&quot;</span>,</span><br><span class="line">        <span class="string">&quot;user&quot;</span> : <span class="string">&quot;testUser01&quot;</span>,</span><br><span class="line">        <span class="string">&quot;db&quot;</span> : <span class="string">&quot;testDB01&quot;</span>,</span><br><span class="line">        <span class="string">&quot;credentials&quot;</span> : &#123;</span><br><span class="line">                <span class="string">&quot;SCRAM-SHA-1&quot;</span> : &#123;</span><br><span class="line">                        <span class="string">&quot;iterationCount&quot;</span> : <span class="number">10000</span>,</span><br><span class="line">                        <span class="string">&quot;salt&quot;</span> : <span class="string">&quot;Tu2bpckgHjP17nOc+s2fGA==&quot;</span>,</span><br><span class="line">                        <span class="string">&quot;storedKey&quot;</span> : <span class="string">&quot;LO+Tc7U6tz54e2NCsKM0O9+Z/uo=&quot;</span>,</span><br><span class="line">                        <span class="string">&quot;serverKey&quot;</span> : <span class="string">&quot;cXYjU54vGoLQ58ZpeWXzZ7ZeVgI=&quot;</span></span><br><span class="line">                &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="string">&quot;roles&quot;</span> : [</span><br><span class="line">                &#123;</span><br><span class="line">                        <span class="string">&quot;role&quot;</span> : <span class="string">&quot;readWrite&quot;</span>,</span><br><span class="line">                        <span class="string">&quot;db&quot;</span> : <span class="string">&quot;testDB01&quot;</span></span><br><span class="line">                &#125;,</span><br><span class="line">                &#123;</span><br><span class="line">                        <span class="string">&quot;role&quot;</span> : <span class="string">&quot;dbAdmin&quot;</span>,</span><br><span class="line">                        <span class="string">&quot;db&quot;</span> : <span class="string">&quot;testDB01&quot;</span></span><br><span class="line">                &#125;,</span><br><span class="line">                &#123;</span><br><span class="line">                        <span class="string">&quot;role&quot;</span> : <span class="string">&quot;userAdmin&quot;</span>,</span><br><span class="line">                        <span class="string">&quot;db&quot;</span> : <span class="string">&quot;testDB01&quot;</span></span><br><span class="line">                &#125;</span><br><span class="line">        ]</span><br><span class="line">&#125;</span><br><span class="line">&#123;</span><br><span class="line">        <span class="string">&quot;_id&quot;</span> : <span class="string">&quot;testDB02.testUser02&quot;</span>,</span><br><span class="line">        <span class="string">&quot;user&quot;</span> : <span class="string">&quot;testUser02&quot;</span>,</span><br><span class="line">        <span class="string">&quot;db&quot;</span> : <span class="string">&quot;testDB02&quot;</span>,</span><br><span class="line">        <span class="string">&quot;credentials&quot;</span> : &#123;</span><br><span class="line">                <span class="string">&quot;SCRAM-SHA-1&quot;</span> : &#123;</span><br><span class="line">                        <span class="string">&quot;iterationCount&quot;</span> : <span class="number">10000</span>,</span><br><span class="line">                        <span class="string">&quot;salt&quot;</span> : <span class="string">&quot;a4PwETCeMojRGv3mNp5OsQ==&quot;</span>,</span><br><span class="line">                        <span class="string">&quot;storedKey&quot;</span> : <span class="string">&quot;xajSCeYddSMHn+Dtr3/+OzghGw8=&quot;</span>,</span><br><span class="line">                        <span class="string">&quot;serverKey&quot;</span> : <span class="string">&quot;J3WrHUIrxDgl0OfWw5kpXcthw/o=&quot;</span></span><br><span class="line">                &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="string">&quot;roles&quot;</span> : [</span><br><span class="line">                &#123;</span><br><span class="line">                        <span class="string">&quot;role&quot;</span> : <span class="string">&quot;readWrite&quot;</span>,</span><br><span class="line">                        <span class="string">&quot;db&quot;</span> : <span class="string">&quot;testDB02&quot;</span></span><br><span class="line">                &#125;,</span><br><span class="line">                &#123;</span><br><span class="line">                        <span class="string">&quot;role&quot;</span> : <span class="string">&quot;dbAdmin&quot;</span>,</span><br><span class="line">                        <span class="string">&quot;db&quot;</span> : <span class="string">&quot;testDB02&quot;</span></span><br><span class="line">                &#125;,</span><br><span class="line">                &#123;</span><br><span class="line">                        <span class="string">&quot;role&quot;</span> : <span class="string">&quot;userAdmin&quot;</span>,</span><br><span class="line">                        <span class="string">&quot;db&quot;</span> : <span class="string">&quot;testDB02&quot;</span></span><br><span class="line">                &#125;</span><br><span class="line">        ]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>


<figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">&gt; <span class="keyword">use</span> testDB</span><br><span class="line">&gt; <span class="keyword">db</span>.createUser(</span><br><span class="line">&#123;</span><br><span class="line">   user : <span class="string">&quot;testUser&quot;</span>,</span><br><span class="line">   <span class="keyword">pwd</span> : <span class="string">&quot;Mongo@123&quot;</span>,</span><br><span class="line">   roles: [ &#123; role : <span class="string">&quot;readWrite&quot;</span>, <span class="keyword">db</span> : <span class="string">&quot;testDB&quot;</span> &#125; ,</span><br><span class="line">            &#123; role : <span class="string">&quot;dbAdmin&quot;</span>, <span class="keyword">db</span> : <span class="string">&quot;testDB&quot;</span> &#125; ,</span><br><span class="line">            &#123; role : <span class="string">&quot;userAdmin&quot;</span>, <span class="keyword">db</span> : <span class="string">&quot;testDB&quot;</span> &#125;  </span><br><span class="line">          ]</span><br><span class="line">   &#125;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&gt; <span class="keyword">db</span>.system.users.find().pretty()</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">        <span class="string">&quot;_id&quot;</span> : <span class="string">&quot;testDB.testUser&quot;</span>,</span><br><span class="line">        <span class="string">&quot;user&quot;</span> : <span class="string">&quot;testUser&quot;</span>,</span><br><span class="line">        <span class="string">&quot;db&quot;</span> : <span class="string">&quot;testDB&quot;</span>,</span><br><span class="line">        <span class="string">&quot;credentials&quot;</span> : &#123;</span><br><span class="line">                <span class="string">&quot;SCRAM-SHA-1&quot;</span> : &#123;</span><br><span class="line">                        <span class="string">&quot;iterationCount&quot;</span> : 10000,</span><br><span class="line">                        <span class="string">&quot;salt&quot;</span> : <span class="string">&quot;a4PwETCeMojRGv3mNp5OsQ==&quot;</span>,</span><br><span class="line">                        <span class="string">&quot;storedKey&quot;</span> : <span class="string">&quot;xajSCeYddSMHn+Dtr3/+OzghGw8=&quot;</span>,</span><br><span class="line">                        <span class="string">&quot;serverKey&quot;</span> : <span class="string">&quot;J3WrHUIrxDgl0OfWw5kpXcthw/o=&quot;</span></span><br><span class="line">                &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="string">&quot;roles&quot;</span> : [</span><br><span class="line">                &#123;</span><br><span class="line">                        <span class="string">&quot;role&quot;</span> : <span class="string">&quot;readWrite&quot;</span>,</span><br><span class="line">                        <span class="string">&quot;db&quot;</span> : <span class="string">&quot;testDB&quot;</span></span><br><span class="line">                &#125;,</span><br><span class="line">                &#123;</span><br><span class="line">                        <span class="string">&quot;role&quot;</span> : <span class="string">&quot;dbAdmin&quot;</span>,</span><br><span class="line">                        <span class="string">&quot;db&quot;</span> : <span class="string">&quot;testDB&quot;</span></span><br><span class="line">                &#125;,</span><br><span class="line">                &#123;</span><br><span class="line">                        <span class="string">&quot;role&quot;</span> : <span class="string">&quot;userAdmin&quot;</span>,</span><br><span class="line">                        <span class="string">&quot;db&quot;</span> : <span class="string">&quot;testDB&quot;</span></span><br><span class="line">                &#125;</span><br><span class="line">        ]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"> 注： 在 testDB库创建，只对 testDB有读、写和管理权限，在testDB认证鉴权</span><br></pre></td></tr></table></figure>


<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line">&gt; use <span class="keyword">admin</span></span><br><span class="line">&gt; db.createUser(</span><br><span class="line"> &#123;</span><br><span class="line">    <span class="keyword">user</span> : &quot;testUser&quot;,</span><br><span class="line">    pwd : &quot;Mongo@123&quot;,</span><br><span class="line">    roles: [ &#123; <span class="keyword">role</span> : &quot;readWrite&quot;, db : &quot;testDB&quot; &#125; ,</span><br><span class="line">             &#123; <span class="keyword">role</span> : &quot;dbAdmin&quot;, db : &quot;testDB&quot; &#125; ,</span><br><span class="line">             &#123; <span class="keyword">role</span> : &quot;userAdmin&quot;, db : &quot;testDB&quot; &#125;</span><br><span class="line">           ]</span><br><span class="line">    &#125;</span><br><span class="line"> )</span><br><span class="line">Successfully added <span class="keyword">user</span>: &#123;</span><br><span class="line">        &quot;user&quot; : &quot;testUser&quot;,</span><br><span class="line">        &quot;roles&quot; : [</span><br><span class="line">                &#123;</span><br><span class="line">                        &quot;role&quot; : &quot;readWrite&quot;,</span><br><span class="line">                        &quot;db&quot; : &quot;testDB&quot;</span><br><span class="line">                &#125;,</span><br><span class="line">                &#123;</span><br><span class="line">                        &quot;role&quot; : &quot;dbAdmin&quot;,</span><br><span class="line">                        &quot;db&quot; : &quot;testDB&quot;</span><br><span class="line">                &#125;,</span><br><span class="line">                &#123;</span><br><span class="line">                        &quot;role&quot; : &quot;userAdmin&quot;,</span><br><span class="line">                        &quot;db&quot; : &quot;testDB&quot;</span><br><span class="line">                &#125;</span><br><span class="line">        ]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&gt; db.<span class="keyword">system</span>.users.find().pretty()</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">        &quot;_id&quot; : &quot;admin.testUser&quot;,</span><br><span class="line">        &quot;user&quot; : &quot;testUser&quot;,</span><br><span class="line">        &quot;db&quot; : &quot;admin&quot;,</span><br><span class="line">        &quot;credentials&quot; : &#123;</span><br><span class="line">                &quot;SCRAM-SHA-1&quot; : &#123;</span><br><span class="line">                        &quot;iterationCount&quot; : <span class="number">10000</span>,</span><br><span class="line">                        &quot;salt&quot; : &quot;IzZhDiGBM7fvZ09Y99qY1Q==&quot;,</span><br><span class="line">                        &quot;storedKey&quot; : &quot;qbEWrB1xrV939z4vCxULiw7W2e4=&quot;,</span><br><span class="line">                        &quot;serverKey&quot; : &quot;vPZg8qrTGjnIHKouxf048Ci3Z/0=&quot;</span><br><span class="line">                &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        &quot;roles&quot; : [</span><br><span class="line">                &#123;</span><br><span class="line">                        &quot;role&quot; : &quot;readWrite&quot;,</span><br><span class="line">                        &quot;db&quot; : &quot;testDB&quot;</span><br><span class="line">                &#125;,</span><br><span class="line">                &#123;</span><br><span class="line">                        &quot;role&quot; : &quot;dbAdmin&quot;,</span><br><span class="line">                        &quot;db&quot; : &quot;testDB&quot;</span><br><span class="line">                &#125;,</span><br><span class="line">                &#123;</span><br><span class="line">                        &quot;role&quot; : &quot;userAdmin&quot;,</span><br><span class="line">                        &quot;db&quot; : &quot;testDB&quot;</span><br><span class="line">                &#125;</span><br><span class="line">        ]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">注： 在 <span class="keyword">admin</span>库创建，只对 testDB有读、写和管理权限，在<span class="keyword">admin</span>认证鉴权</span><br></pre></td></tr></table></figure>

<h3 id="修改用户密码"><a href="#修改用户密码" class="headerlink" title="修改用户密码"></a>修改用户密码</h3><figure class="highlight node-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">/path/mongo  --host=172.16.218.27 --port=27017 -u username  -p &#x27;XXX&#x27;  --authenticationDatabase=admin</span><br><span class="line"></span><br><span class="line"># testDB.testUser</span><br><span class="line"><span class="meta prompt_">&gt;</span> <span class="language-javascript"> use testDB</span></span><br><span class="line"><span class="meta prompt_">&gt;</span> <span class="language-javascript"> db.<span class="title function_">changeUserPassword</span>(<span class="string">&#x27;testUser&#x27;</span>,<span class="string">&#x27;newPasswd&#x27;</span>))<span class="string">&quot;</span></span></span><br><span class="line"></span><br><span class="line"># admin.testUser</span><br><span class="line"><span class="meta prompt_">&gt;</span> <span class="language-javascript"><span class="string"> use admin</span></span></span><br><span class="line"><span class="meta prompt_">&gt;</span> <span class="language-javascript"><span class="string"> db.changeUserPassword(&#x27;testUser&#x27;,&#x27;newPasswd&#x27;))&quot;</span></span></span><br></pre></td></tr></table></figure>

<h3 id="删除用户"><a href="#删除用户" class="headerlink" title="删除用户"></a>删除用户</h3><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># testDB.testUser</span></span><br><span class="line"></span><br><span class="line">/path/mongo  <span class="attribute">--host</span>=172.16.218.27 <span class="attribute">--port</span>=27017 -u username  -p <span class="string">&#x27;XXX&#x27;</span>  <span class="attribute">--authenticationDatabase</span>=admin</span><br><span class="line"></span><br><span class="line"><span class="comment"># 通过用户所在库删除</span></span><br><span class="line">&gt;  use testDB</span><br><span class="line">&gt;  db.dropUser(<span class="string">&quot;testUser&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 通过admin库删除</span></span><br><span class="line">&gt;  use admin</span><br><span class="line">&gt; db.system.users.<span class="built_in">remove</span>(&#123;<span class="string">&quot;_id&quot;</span>:<span class="string">&quot;testDB.testUser&quot;</span>&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h3 id="客户端工程jdbc连接字符串示例"><a href="#客户端工程jdbc连接字符串示例" class="headerlink" title="客户端工程jdbc连接字符串示例"></a>客户端工程jdbc连接字符串示例</h3><figure class="highlight roboconf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># authSource=testDB</span></span><br><span class="line">spring.data.mongodb.uri=mongodb://$&#123;<span class="attribute">username&#125;</span>:$&#123;password&#125;@xx<span class="variable">.xx</span><span class="variable">.xx</span><span class="variable">.xx</span>:27017,xx<span class="variable">.xx</span><span class="variable">.xx</span><span class="variable">.xx</span>:27017,xx<span class="variable">.xx</span><span class="variable">.xx</span><span class="variable">.xx</span>:27017/testDB?authSource=testDB&amp;authMechanism=SCRAM-SHA-1</span><br></pre></td></tr></table></figure>

<figure class="highlight roboconf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># authSource=admin</span></span><br><span class="line">spring.data.mongodb.uri=mongodb://$&#123;<span class="attribute">username&#125;</span>:$&#123;password&#125;@xx<span class="variable">.xx</span><span class="variable">.xx</span><span class="variable">.xx</span>:27017,xx<span class="variable">.xx</span><span class="variable">.xx</span><span class="variable">.xx</span>:27017,xx<span class="variable">.xx</span><span class="variable">.xx</span><span class="variable">.xx</span>:27017/testDB?authSource=admin&amp;authMechanism=SCRAM-SHA-1</span><br></pre></td></tr></table></figure>

<h3 id="关于账号创建的注意事项："><a href="#关于账号创建的注意事项：" class="headerlink" title="关于账号创建的注意事项："></a>关于账号创建的注意事项：</h3><ol>
<li><p>第一步新建一个超管账号 superUser(示例)，授予 mongoDB root 角色权限，密码跟其他账号都不一样</p>
</li>
<li><p>为各业务库创建业务账号，尽量统一一个模块一个用户名&#x2F;密码，不同模块用户名&#x2F;密码不同</p>
</li>
<li><p>mongoDB的用户名是跟库走的  db.user ，在哪个库创建的用户就走哪个库做认证，要么统一走各自业务库创建、授权、认证鉴权，要么统一通过admin库</p>
</li>
<li><p>superUser(示例) 只能走admin做认证鉴权，是数据库的超级管理员</p>
</li>
<li><p>修改用户和删除用户等，和创建用户一样，需要切换到数据库管理员的身份, 也就是需要先切换到admin库完成认证,，才能进行后面的操作. </p>
</li>
<li><p>删除用户可以在 admin 库删除，但是修改密码只能创建用户的对应库，用户是跟着库走的</p>
</li>
</ol>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://zengjunjie1026.github.io/2023/08/21/linux-dd/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="andrew">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="分子美食家的博客">
      <meta itemprop="description" content="做自己爱做的事，爱自己在做的事！">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 分子美食家的博客">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/08/21/linux-dd/" class="post-title-link" itemprop="url">linux dd</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2023-08-21 17:44:32 / 修改时间：17:44:42" itemprop="dateCreated datePublished" datetime="2023-08-21T17:44:32+08:00">2023-08-21</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>在制作U盘启动的时候,有时候需要用dd命令写入U盘.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo dd <span class="keyword">if</span>=./manjaro-deepin-<span class="number">18.0</span><span class="number">.2</span>-stable-x86_64.iso of=/dev/sdc bs=4M</span><br><span class="line">sudo watch kill -USR1 $(pgrep ^dd)</span><br></pre></td></tr></table></figure>
<p>查看硬盘情况</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df -h</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">##df -h                      </span></span><br><span class="line">文件系统        容量  已用  可用 已用% 挂载点</span><br><span class="line">dev              32G     0   32G    0% /dev</span><br><span class="line">run              32G  1.4M   32G    1% /run</span><br><span class="line">/dev/nvme0n1p1  938G  194G  696G   22% /</span><br><span class="line">tmpfs            32G   90M   32G    1% /dev/shm</span><br><span class="line">tmpfs            32G     0   32G    0% /sys/fs/cgroup</span><br><span class="line">tmpfs            32G   82M   32G    1% /tmp</span><br><span class="line">/dev/nvme0n1p2  455M   18M  437M    4% /boot/efi</span><br><span class="line">tmpfs           6.3G   28K  6.3G    1% /run/user/1000</span><br><span class="line">/dev/nvme1n1p2  234G   11G  212G    5% /run/media/andrew/ebbbb5d2-99ae-4e7c-855f-eb44554ecadd</span><br><span class="line">/dev/sda4       113G   54G   59G   48% /run/media/andrew/9A3402873402671B</span><br><span class="line">/dev/sdb        120G   45G   76G   37% /run/media/andrew/USB3.0</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>查看硬盘分区</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo fdisk -l</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line">Disk /dev/nvme0n1：953.89 GiB，1024209543168 字节，2000409264 个扇区</span><br><span class="line">磁盘型号：HS-SSD-C2000                            </span><br><span class="line">单元：扇区 / 1 * 512 = 512 字节</span><br><span class="line">扇区大小(逻辑/物理)：512 字节 / 512 字节</span><br><span class="line">I/O 大小(最小/最佳)：512 字节 / 512 字节</span><br><span class="line">磁盘标签类型：gpt</span><br><span class="line">磁盘标识符：9F2B628D-7951-40D7-B172-BBAEFFA299F6</span><br><span class="line"></span><br><span class="line">设备             起点       末尾       扇区   大小 类型</span><br><span class="line">/dev/nvme0n1p1 933888 2000397701 1999463814 953.4G Linux 文件系统</span><br><span class="line">/dev/nvme0n1p2   2048     933887     931840   455M Microsoft 基本数据</span><br><span class="line"></span><br><span class="line">分区表记录没有按磁盘顺序。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Disk /dev/nvme1n1：238.49 GiB，256060514304 字节，500118192 个扇区</span><br><span class="line">磁盘型号：SAMSUNG MZVLW256HEHP-00000              </span><br><span class="line">单元：扇区 / 1 * 512 = 512 字节</span><br><span class="line">扇区大小(逻辑/物理)：512 字节 / 512 字节</span><br><span class="line">I/O 大小(最小/最佳)：512 字节 / 512 字节</span><br><span class="line">磁盘标签类型：gpt</span><br><span class="line">磁盘标识符：DE2A08FE-1B0B-6041-8F6E-93205335DCED</span><br><span class="line"></span><br><span class="line">设备              起点      末尾      扇区  大小 类型</span><br><span class="line">/dev/nvme1n1p1    2048   1026047   1024000  500M EFI 系统</span><br><span class="line">/dev/nvme1n1p2 1026048 500118158 499092111  238G Linux 文件系统</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Disk /dev/sda：113 GiB，121332826112 字节，236978176 个扇区</span><br><span class="line">磁盘型号：APPLE SSD SD0128</span><br><span class="line">单元：扇区 / 1 * 512 = 512 字节</span><br><span class="line">扇区大小(逻辑/物理)：512 字节 / 4096 字节</span><br><span class="line">I/O 大小(最小/最佳)：4096 字节 / 4096 字节</span><br><span class="line">磁盘标签类型：gpt</span><br><span class="line">磁盘标识符：6151D0C2-B64E-405D-A17C-12F529F48388</span><br><span class="line"></span><br><span class="line">设备          起点      末尾      扇区   大小 类型</span><br><span class="line">/dev/sda1     2048   1085439   1083392   529M Windows 恢复环境</span><br><span class="line">/dev/sda2  1085440   1288191    202752    99M EFI 系统</span><br><span class="line">/dev/sda3  1288192   1320959     32768    16M Microsoft 保留</span><br><span class="line">/dev/sda4  1320960 236976127 235655168 112.4G Microsoft 基本数据</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Disk /dev/sdb：120 GiB，128849018880 字节，251658240 个扇区</span><br><span class="line">磁盘型号：Flash Disk      </span><br><span class="line">单元：扇区 / 1 * 512 = 512 字节</span><br><span class="line">扇区大小(逻辑/物理)：512 字节 / 512 字节</span><br><span class="line">I/O 大小(最小/最佳)：512 字节 / 512 字节</span><br><span class="line">磁盘标签类型：dos</span><br><span class="line">磁盘标识符：0x00000000</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Disk /dev/sdc：30 GiB，32212254720 字节，62914560 个扇区</span><br><span class="line">磁盘型号：Flash Disk      </span><br><span class="line">单元：扇区 / 1 * 512 = 512 字节</span><br><span class="line">扇区大小(逻辑/物理)：512 字节 / 512 字节</span><br><span class="line">I/O 大小(最小/最佳)：512 字节 / 512 字节</span><br><span class="line">磁盘标签类型：dos</span><br><span class="line">磁盘标识符：0x00000000</span><br><span class="line"></span><br><span class="line">设备       启动  起点     末尾     扇区 大小 Id 类型</span><br><span class="line">/dev/sdc1  *    16128 62914559 62898432  30G  c W95 FAT32 (LBA)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>重新制作文件系统</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo mkfs -t fat /dev/sdc</span><br></pre></td></tr></table></figure>
<p>格式化完成</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mkexfatfs 1.3.0</span><br><span class="line">Creating... <span class="keyword">done</span>.</span><br><span class="line">Flushing... <span class="keyword">done</span>.</span><br><span class="line">File system created successfully.</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://zengjunjie1026.github.io/2023/08/21/linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="andrew">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="分子美食家的博客">
      <meta itemprop="description" content="做自己爱做的事，爱自己在做的事！">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 分子美食家的博客">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/08/21/linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/" class="post-title-link" itemprop="url">linux常用命令</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2023-08-21 17:39:11 / 修改时间：17:39:27" itemprop="dateCreated datePublished" datetime="2023-08-21T17:39:11+08:00">2023-08-21</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">##显示系统信息 </span></span><br><span class="line"><span class="built_in">arch</span> 显示机器的处理器架构</span><br><span class="line"><span class="built_in">uname</span> -m 显示机器的处理器架构</span><br><span class="line"><span class="built_in">uname</span> -r 显示正在使用的内核版本 </span><br><span class="line"><span class="built_in">cat</span> /proc/cpuinfo 显示CPU info的信息 </span><br><span class="line"><span class="built_in">cat</span> /proc/meminfo 校验内存使用 </span><br><span class="line"><span class="built_in">cat</span> /proc/swaps 显示哪些swap被使用 </span><br><span class="line"><span class="built_in">cat</span> /proc/version 显示内核的版本 </span><br><span class="line"></span><br><span class="line">lspci -tv 罗列 PCI 设备 </span><br><span class="line">lsusb -tv 显示 USB 设备 </span><br><span class="line"></span><br><span class="line"><span class="comment">##日历</span></span><br><span class="line"><span class="built_in">date</span> 显示系统日期 </span><br><span class="line">cal 2019 显示2019年的日历表 </span><br><span class="line"><span class="built_in">date</span> 041217002007.00 设置日期和时间 - 月日时分年.秒 </span><br><span class="line">clock -w 将时间修改保存到 BIOS</span><br><span class="line"></span><br><span class="line"><span class="comment">##显示系统的进程数据</span></span><br><span class="line">ps -aux</span><br><span class="line">top</span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">##关机 (系统的关机、重启以及登出 )一般linux不用关机，全天24h工作 </span></span><br><span class="line">shutdown -h now 关闭系统</span><br><span class="line">shutdown -h hours:minutes &amp; 按预定时间关闭系统 </span><br><span class="line">shutdown -c 取消按预定时间关闭系统 </span><br><span class="line">shutdown -r now 重启</span><br><span class="line">reboot 重启</span><br><span class="line"><span class="built_in">logout</span> 注销 </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">##切换工作路径</span></span><br><span class="line">文件和目录 </span><br><span class="line"><span class="built_in">cd</span> /home 进入 <span class="string">&#x27;/ home&#x27;</span> 目录<span class="string">&#x27; </span></span><br><span class="line"><span class="string">cd .. 返回上一级目录 </span></span><br><span class="line"><span class="string">cd ../.. 返回上两级目录 </span></span><br><span class="line"><span class="string">cd 进入个人的主目录 </span></span><br><span class="line"><span class="string">cd ~user1 进入个人的主目录 </span></span><br><span class="line"><span class="string">cd - 返回上次所在的目录 </span></span><br><span class="line"><span class="string">pwd 显示工作路径 </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">## 显示文件</span></span><br><span class="line"><span class="string">ls 查看目录中的文件 </span></span><br><span class="line"><span class="string">ls -F 查看目录中的文件 </span></span><br><span class="line"><span class="string">ls -l 显示文件和目录的详细资料 </span></span><br><span class="line"><span class="string">ls -a 显示隐藏文件</span></span><br><span class="line"><span class="string">ls -alh 显示全部的文件</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">ls *[0-9]* 显示包含数字的文件名和目录名</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">tree 显示文件和目录由根目录开始的树形结构，不是所有的系统都有tree</span></span><br><span class="line"><span class="string">lstree 显示文件和目录由根目录开始的树形结构</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">##创建文件夹</span></span><br><span class="line"><span class="string">mkdir dir1 创建一个叫做 &#x27;</span>dir1<span class="string">&#x27; 的目录&#x27;</span> </span><br><span class="line"><span class="built_in">mkdir</span> dir1 dir2 同时创建两个目录 </span><br><span class="line"><span class="built_in">mkdir</span> -p /tmp/dir1/dir2 创建一个目录树 </span><br><span class="line"></span><br><span class="line"><span class="comment">##删除文件和文件夹</span></span><br><span class="line"><span class="built_in">rm</span> -f file1 删除一个叫做 <span class="string">&#x27;file1&#x27;</span> 的文件<span class="string">&#x27; </span></span><br><span class="line"><span class="string">rmdir dir1 删除一个叫做 &#x27;</span>dir1<span class="string">&#x27; 的目录&#x27;</span> </span><br><span class="line"><span class="built_in">rm</span> -rf dir1 删除一个叫做 <span class="string">&#x27;dir1&#x27;</span> 的目录并同时删除其内容 </span><br><span class="line"><span class="built_in">rm</span> -rf dir1 dir2 同时删除两个目录及它们的内容 </span><br><span class="line">sudo <span class="built_in">rm</span> -rf * 危险⚠️，删库跑路</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">##移动文件夹</span></span><br><span class="line"><span class="built_in">mv</span> dir1 new_dir 重命名/移动 一个目录</span><br><span class="line"></span><br><span class="line"><span class="comment">## 复制文件夹和文件</span></span><br><span class="line"><span class="built_in">cp</span> file1 file2 复制一个文件 </span><br><span class="line"><span class="built_in">cp</span> <span class="built_in">dir</span>/* . 复制一个目录下的所有文件到当前工作目录 </span><br><span class="line"><span class="built_in">cp</span> -a /tmp/dir1 . 复制一个目录到当前工作目录 </span><br><span class="line"><span class="built_in">cp</span> -a dir1 dir2 复制一个目录 </span><br><span class="line"></span><br><span class="line"><span class="comment">##软连接和硬连接</span></span><br><span class="line"><span class="built_in">ln</span> -s file1 lnk1 创建一个指向文件或目录的软链接 </span><br><span class="line"><span class="built_in">ln</span> file1 lnk1 创建一个指向文件或目录的物理链接 </span><br><span class="line"></span><br><span class="line"><span class="comment">##新建一个文件</span></span><br><span class="line"><span class="built_in">touch</span> -t 0712250000 file1 修改一个文件或目录的时间戳 - (YYMMDDhhmm) </span><br><span class="line"></span><br><span class="line"><span class="comment">##显示文件信息</span></span><br><span class="line">file file1 outputs the mime <span class="built_in">type</span> of the file as text </span><br><span class="line"></span><br><span class="line"><span class="comment">##查找文件 </span></span><br><span class="line">find <span class="built_in">dir</span> filename 在<span class="built_in">dir</span>中查找文件</span><br><span class="line">find / -name file1 从 <span class="string">&#x27;/&#x27;</span> 开始进入根文件系统搜索文件和目录 </span><br><span class="line">find / -user user1 搜索属于用户 <span class="string">&#x27;user1&#x27;</span> 的文件和目录 </span><br><span class="line">find /home/user1 -name \*.bin 在目录 <span class="string">&#x27;/ home/user1&#x27;</span> 中搜索带有<span class="string">&#x27;.bin&#x27;</span> 结尾的文件 </span><br><span class="line">find /usr/bin -<span class="built_in">type</span> f -atime +100 搜索在过去100天内未被使用过的执行文件 </span><br><span class="line">find /usr/bin -<span class="built_in">type</span> f -mtime -10 搜索在10天内被创建或者修改过的文件 </span><br><span class="line">find / -name \*.rpm -<span class="built_in">exec</span> <span class="built_in">chmod</span> 755 <span class="string">&#x27;&#123;&#125;&#x27;</span> \; 搜索以 <span class="string">&#x27;.rpm&#x27;</span> 结尾的文件并定义其权限 </span><br><span class="line">find / -xdev -name \*.rpm 搜索以 <span class="string">&#x27;.rpm&#x27;</span> 结尾的文件，忽略光驱、捷盘等可移动设备 </span><br><span class="line">locate \*.ps 寻找以 <span class="string">&#x27;.ps&#x27;</span> 结尾的文件 - 先运行 <span class="string">&#x27;updatedb&#x27;</span> 命令 </span><br><span class="line"></span><br><span class="line"><span class="comment">##位置</span></span><br><span class="line">whereis halt 显示一个二进制文件、源码或man的位置 </span><br><span class="line"><span class="built_in">which</span> halt 显示一个二进制文件或可执行文件的完整路径 </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">挂载一个文件系统 </span><br><span class="line">mount /dev/hda2 /mnt/hda2 挂载一个叫做hda2的盘 - 确定目录 <span class="string">&#x27;/ mnt/hda2&#x27;</span> 已经存在 </span><br><span class="line">umount /dev/hda2 卸载一个叫做hda2的盘 - 先从挂载点 <span class="string">&#x27;/ mnt/hda2&#x27;</span> 退出 </span><br><span class="line">fuser -km /mnt/hda2 当设备繁忙时强制卸载 </span><br><span class="line">umount -n /mnt/hda2 运行卸载操作而不写入 /etc/mtab 文件- 当文件为只读或当磁盘写满时非常有用 </span><br><span class="line">mount /dev/fd0 /mnt/floppy 挂载一个软盘 </span><br><span class="line">mount /dev/cdrom /mnt/cdrom 挂载一个cdrom或dvdrom </span><br><span class="line">mount /dev/hdc /mnt/cdrecorder 挂载一个cdrw或dvdrom </span><br><span class="line">mount /dev/hdb /mnt/cdrecorder 挂载一个cdrw或dvdrom </span><br><span class="line">mount -o loop file.iso /mnt/cdrom 挂载一个文件或ISO镜像文件 </span><br><span class="line">mount -t vfat /dev/hda5 /mnt/hda5 挂载一个Windows FAT32文件系统 </span><br><span class="line">mount /dev/sda1 /mnt/usbdisk 挂载一个usb 捷盘或闪存设备 </span><br><span class="line">mount -t smbfs -o username=user,password=pass //WinClient/share /mnt/share 挂载一个windows网络共享 </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">磁盘空间 </span><br><span class="line"><span class="built_in">df</span> -h 显示已经挂载的分区列表 </span><br><span class="line"><span class="built_in">ls</span> -lSr |more 以尺寸大小排列文件和目录 </span><br><span class="line"><span class="built_in">du</span> -sh dir1 估算目录 <span class="string">&#x27;dir1&#x27;</span> 已经使用的磁盘空间<span class="string">&#x27; </span></span><br><span class="line"><span class="string">du -sk * | sort -rn 以容量大小为依据依次显示文件和目录的大小 </span></span><br><span class="line"><span class="string">rpm -q -a --qf &#x27;</span>%10&#123;SIZE&#125;t%&#123;NAME&#125;n<span class="string">&#x27; | sort -k1,1n 以大小为依据依次显示已安装的rpm包所使用的空间 (fedora, redhat类系统) </span></span><br><span class="line"><span class="string">dpkg-query -W -f=&#x27;</span><span class="variable">$&#123;Installed-Size;10&#125;</span>t<span class="variable">$&#123;Package&#125;</span>n<span class="string">&#x27; | sort -k1,1n 以大小为依据显示已安装的deb包所使用的空间 (ubuntu, debian类系统) </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">## 用户和群组 </span></span><br><span class="line"><span class="string">groupadd group_name 创建一个新用户组 </span></span><br><span class="line"><span class="string">groupdel group_name 删除一个用户组 </span></span><br><span class="line"><span class="string">groupmod -n new_group_name old_group_name 重命名一个用户组 </span></span><br><span class="line"><span class="string">useradd -c &quot;Name Surname &quot; -g admin -d /home/user1 -s /bin/bash user1 创建一个属于 &quot;admin&quot; 用户组的用户 </span></span><br><span class="line"><span class="string">useradd user1 创建一个新用户 </span></span><br><span class="line"><span class="string">userdel -r user1 删除一个用户 ( &#x27;</span>-r<span class="string">&#x27; 排除主目录) </span></span><br><span class="line"><span class="string">usermod -c &quot;User FTP&quot; -g system -d /ftp/user1 -s /bin/nologin user1 修改用户属性 </span></span><br><span class="line"><span class="string">passwd 修改口令 </span></span><br><span class="line"><span class="string">passwd user1 修改一个用户的口令 (只允许root执行) </span></span><br><span class="line"><span class="string">chage -E 2005-12-31 user1 设置用户口令的失效期限 </span></span><br><span class="line"><span class="string">pwck 检查 &#x27;</span>/etc/passwd<span class="string">&#x27; 的文件格式和语法修正以及存在的用户 </span></span><br><span class="line"><span class="string">grpck 检查 &#x27;</span>/etc/passwd<span class="string">&#x27; 的文件格式和语法修正以及存在的群组 </span></span><br><span class="line"><span class="string">newgrp group_name 登陆进一个新的群组以改变新创建文件的预设群组 </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">文件的权限 - 使用 &quot;+&quot; 设置权限，使用 &quot;-&quot; 用于取消 </span></span><br><span class="line"><span class="string">ls -lh 显示权限 </span></span><br><span class="line"><span class="string">ls /tmp | pr -T5 -W$COLUMNS 将终端划分成5栏显示 </span></span><br><span class="line"><span class="string">chmod ugo+rwx directory1 设置目录的所有人(u)、群组(g)以及其他人(o)以读（r ）、写(w)和执行(x)的权限 </span></span><br><span class="line"><span class="string">chmod go-rwx directory1 删除群组(g)与其他人(o)对目录的读写执行权限 </span></span><br><span class="line"><span class="string">chown user1 file1 改变一个文件的所有人属性 </span></span><br><span class="line"><span class="string">chown -R user1 directory1 改变一个目录的所有人属性并同时改变改目录下所有文件的属性 </span></span><br><span class="line"><span class="string">chgrp group1 file1 改变文件的群组 </span></span><br><span class="line"><span class="string">chown user1:group1 file1 改变一个文件的所有人和群组属性 </span></span><br><span class="line"><span class="string">find / -perm -u+s 罗列一个系统中所有使用了SUID控制的文件 </span></span><br><span class="line"><span class="string">chmod u+s /bin/file1 设置一个二进制文件的 SUID 位 - 运行该文件的用户也被赋予和所有者同样的权限 </span></span><br><span class="line"><span class="string">chmod u-s /bin/file1 禁用一个二进制文件的 SUID位 </span></span><br><span class="line"><span class="string">chmod g+s /home/public 设置一个目录的SGID 位 - 类似SUID ，不过这是针对目录的 </span></span><br><span class="line"><span class="string">chmod g-s /home/public 禁用一个目录的 SGID 位 </span></span><br><span class="line"><span class="string">chmod o+t /home/public 设置一个文件的 STIKY 位 - 只允许合法所有人删除文件 </span></span><br><span class="line"><span class="string">chmod o-t /home/public 禁用一个目录的 STIKY 位 </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">文件的特殊属性 - 使用 &quot;+&quot; 设置权限，使用 &quot;-&quot; 用于取消 </span></span><br><span class="line"><span class="string">chattr +a file1 只允许以追加方式读写文件 </span></span><br><span class="line"><span class="string">chattr +c file1 允许这个文件能被内核自动压缩/解压 </span></span><br><span class="line"><span class="string">chattr +d file1 在进行文件系统备份时，dump程序将忽略这个文件 </span></span><br><span class="line"><span class="string">chattr +i file1 设置成不可变的文件，不能被删除、修改、重命名或者链接 </span></span><br><span class="line"><span class="string">chattr +s file1 允许一个文件被安全地删除 </span></span><br><span class="line"><span class="string">chattr +S file1 一旦应用程序对这个文件执行了写操作，使系统立刻把修改的结果写到磁盘 </span></span><br><span class="line"><span class="string">chattr +u file1 若文件被删除，系统会允许你在以后恢复这个被删除的文件 </span></span><br><span class="line"><span class="string">lsattr 显示特殊的属性 </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">打包和压缩文件 </span></span><br><span class="line"><span class="string">bunzip2 file1.bz2 解压一个叫做 &#x27;</span>file1.bz2<span class="string">&#x27;的文件 </span></span><br><span class="line"><span class="string">bzip2 file1 压缩一个叫做 &#x27;</span>file1<span class="string">&#x27; 的文件 </span></span><br><span class="line"><span class="string">gunzip file1.gz 解压一个叫做 &#x27;</span>file1.gz<span class="string">&#x27;的文件 </span></span><br><span class="line"><span class="string">gzip file1 压缩一个叫做 &#x27;</span>file1<span class="string">&#x27;的文件 </span></span><br><span class="line"><span class="string">gzip -9 file1 最大程度压缩 </span></span><br><span class="line"><span class="string">rar a file1.rar test_file 创建一个叫做 &#x27;</span>file1.rar<span class="string">&#x27; 的包 </span></span><br><span class="line"><span class="string">rar a file1.rar file1 file2 dir1 同时压缩 &#x27;</span>file1<span class="string">&#x27;, &#x27;</span>file2<span class="string">&#x27; 以及目录 &#x27;</span>dir1<span class="string">&#x27; </span></span><br><span class="line"><span class="string">rar x file1.rar 解压rar包 </span></span><br><span class="line"><span class="string">unrar x file1.rar 解压rar包 </span></span><br><span class="line"><span class="string">tar -cvf archive.tar file1 创建一个非压缩的 tarball </span></span><br><span class="line"><span class="string">tar -cvf archive.tar file1 file2 dir1 创建一个包含了 &#x27;</span>file1<span class="string">&#x27;, &#x27;</span>file2<span class="string">&#x27; 以及 &#x27;</span>dir1<span class="string">&#x27;的档案文件 </span></span><br><span class="line"><span class="string">tar -tf archive.tar 显示一个包中的内容 </span></span><br><span class="line"><span class="string">tar -xvf archive.tar 释放一个包 </span></span><br><span class="line"><span class="string">tar -xvf archive.tar -C /tmp 将压缩包释放到 /tmp目录下 </span></span><br><span class="line"><span class="string">tar -cvfj archive.tar.bz2 dir1 创建一个bzip2格式的压缩包 </span></span><br><span class="line"><span class="string">tar -jxvf archive.tar.bz2 解压一个bzip2格式的压缩包 </span></span><br><span class="line"><span class="string">tar -cvfz archive.tar.gz dir1 创建一个gzip格式的压缩包 </span></span><br><span class="line"><span class="string">tar -zxvf archive.tar.gz 解压一个gzip格式的压缩包 </span></span><br><span class="line"><span class="string">zip file1.zip file1 创建一个zip格式的压缩包 </span></span><br><span class="line"><span class="string">zip -r file1.zip file1 file2 dir1 将几个文件和目录同时压缩成一个zip格式的压缩包 </span></span><br><span class="line"><span class="string">unzip file1.zip 解压一个zip格式压缩包 </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">DEB 包 (Debian, Ubuntu deepin以及类似系统) </span></span><br><span class="line"><span class="string">dpkg -i package.deb 安装/更新一个 deb 包 </span></span><br><span class="line"><span class="string">dpkg -r package_name 从系统删除一个 deb 包 </span></span><br><span class="line"><span class="string">dpkg -l 显示系统中所有已经安装的 deb 包 </span></span><br><span class="line"><span class="string">dpkg -l | grep httpd 显示所有名称中包含 &quot;httpd&quot; 字样的deb包 </span></span><br><span class="line"><span class="string">dpkg -s package_name 获得已经安装在系统中一个特殊包的信息 </span></span><br><span class="line"><span class="string">dpkg -L package_name 显示系统中已经安装的一个deb包所提供的文件列表 </span></span><br><span class="line"><span class="string">dpkg --contents package.deb 显示尚未安装的一个包所提供的文件列表 </span></span><br><span class="line"><span class="string">dpkg -S /bin/ping 确认所给的文件由哪个deb包提供 </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">##debian系包管理工具</span></span><br><span class="line"><span class="string">APT 软件工具 (Debian, Ubuntu 以及类似系统) </span></span><br><span class="line"><span class="string">apt-get install package_name 安装/更新一个 deb 包 </span></span><br><span class="line"><span class="string">apt-cdrom install package_name 从光盘安装/更新一个 deb 包 </span></span><br><span class="line"><span class="string">apt-get update 升级列表中的软件包 </span></span><br><span class="line"><span class="string">apt-get upgrade 升级所有已安装的软件 </span></span><br><span class="line"><span class="string">apt-get remove package_name 从系统删除一个deb包 </span></span><br><span class="line"><span class="string">apt-get check 确认依赖的软件仓库正确 </span></span><br><span class="line"><span class="string">apt-get clean 从下载的软件包中清理缓存 </span></span><br><span class="line"><span class="string">apt-cache search searched-package 返回包含所要搜索字符串的软件包名称 </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">查看文件内容 </span></span><br><span class="line"><span class="string">cat file1 从第一个字节开始正向查看文件的内容 </span></span><br><span class="line"><span class="string">tac file1 从最后一行开始反向查看一个文件的内容 </span></span><br><span class="line"><span class="string">more file1 查看一个长文件的内容 </span></span><br><span class="line"><span class="string">less file1 类似于 &#x27;</span>more<span class="string">&#x27; 命令，但是它允许在文件中和正向操作一样的反向操作 </span></span><br><span class="line"><span class="string">head -2 file1 查看一个文件的前两行 </span></span><br><span class="line"><span class="string">tail -2 file1 查看一个文件的最后两行 </span></span><br><span class="line"><span class="string">tail -f /var/log/messages 实时查看被添加到一个文件中的内容 </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">文本处理 </span></span><br><span class="line"><span class="string">cat file1 file2 ... | command &lt;&gt; file1_in.txt_or_file1_out.txt general syntax for text manipulation using PIPE, STDIN and STDOUT </span></span><br><span class="line"><span class="string">cat file1 | command( sed, grep, awk, grep, etc...) &gt; result.txt 合并一个文件的详细说明文本，并将简介写入一个新文件中 </span></span><br><span class="line"><span class="string">cat file1 | command( sed, grep, awk, grep, etc...) &gt;&gt; result.txt 合并一个文件的详细说明文本，并将简介写入一个已有的文件中 </span></span><br><span class="line"><span class="string">grep Aug /var/log/messages 在文件 &#x27;</span>/var/log/messages<span class="string">&#x27;中查找关键词&quot;Aug&quot; </span></span><br><span class="line"><span class="string">grep ^Aug /var/log/messages 在文件 &#x27;</span>/var/log/messages<span class="string">&#x27;中查找以&quot;Aug&quot;开始的词汇 </span></span><br><span class="line"><span class="string">grep [0-9] /var/log/messages 选择 &#x27;</span>/var/log/messages<span class="string">&#x27; 文件中所有包含数字的行 </span></span><br><span class="line"><span class="string">grep Aug -R /var/log/* 在目录 &#x27;</span>/var/log<span class="string">&#x27; 及随后的目录中搜索字符串&quot;Aug&quot; </span></span><br><span class="line"><span class="string">sed &#x27;</span>s/stringa1/stringa2/g<span class="string">&#x27; example.txt 将example.txt文件中的 &quot;string1&quot; 替换成 &quot;string2&quot; </span></span><br><span class="line"><span class="string">sed &#x27;</span>/^$/d<span class="string">&#x27; example.txt 从example.txt文件中删除所有空白行 </span></span><br><span class="line"><span class="string">sed &#x27;</span>/ *<span class="comment">#/d; /^$/d&#x27; example.txt 从example.txt文件中删除所有注释和空白行 </span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;esempio&#x27;</span> | <span class="built_in">tr</span> <span class="string">&#x27;[:lower:]&#x27;</span> <span class="string">&#x27;[:upper:]&#x27;</span> 合并上下单元格内容 </span><br><span class="line">sed -e <span class="string">&#x27;1d&#x27;</span> result.txt 从文件example.txt 中排除第一行 </span><br><span class="line">sed -n <span class="string">&#x27;/stringa1/p&#x27;</span> 查看只包含词汇 <span class="string">&quot;string1&quot;</span>的行 </span><br><span class="line">sed -e <span class="string">&#x27;s/ *$//&#x27;</span> example.txt 删除每一行最后的空白字符 </span><br><span class="line">sed -e <span class="string">&#x27;s/stringa1//g&#x27;</span> example.txt 从文档中只删除词汇 <span class="string">&quot;string1&quot;</span> 并保留剩余全部 </span><br><span class="line">sed -n <span class="string">&#x27;1,5p;5q&#x27;</span> example.txt 查看从第一行到第5行内容 </span><br><span class="line">sed -n <span class="string">&#x27;5p;5q&#x27;</span> example.txt 查看第5行 </span><br><span class="line">sed -e <span class="string">&#x27;s/00*/0/g&#x27;</span> example.txt 用单个零替换多个零 </span><br><span class="line"><span class="built_in">cat</span> -n file1 标示文件的行数 </span><br><span class="line"><span class="built_in">cat</span> example.txt | awk <span class="string">&#x27;NR%2==1&#x27;</span> 删除example.txt文件中的所有偶数行 </span><br><span class="line"><span class="built_in">echo</span> a b c | awk <span class="string">&#x27;&#123;print $1&#125;&#x27;</span> 查看一行第一栏 </span><br><span class="line"><span class="built_in">echo</span> a b c | awk <span class="string">&#x27;&#123;print $1,$3&#125;&#x27;</span> 查看一行的第一和第三栏 </span><br><span class="line"><span class="built_in">paste</span> file1 file2 合并两个文件或两栏的内容 </span><br><span class="line"><span class="built_in">paste</span> -d <span class="string">&#x27;+&#x27;</span> file1 file2 合并两个文件或两栏的内容，中间用<span class="string">&quot;+&quot;</span>区分 </span><br><span class="line"><span class="built_in">sort</span> file1 file2 排序两个文件的内容 </span><br><span class="line"><span class="built_in">sort</span> file1 file2 | <span class="built_in">uniq</span> 取出两个文件的并集(重复的行只保留一份) </span><br><span class="line"><span class="built_in">sort</span> file1 file2 | <span class="built_in">uniq</span> -u 删除交集，留下其他的行 </span><br><span class="line"><span class="built_in">sort</span> file1 file2 | <span class="built_in">uniq</span> -d 取出两个文件的交集(只留下同时存在于两个文件中的文件) </span><br><span class="line"><span class="built_in">comm</span> -1 file1 file2 比较两个文件的内容只删除 <span class="string">&#x27;file1&#x27;</span> 所包含的内容 </span><br><span class="line"><span class="built_in">comm</span> -2 file1 file2 比较两个文件的内容只删除 <span class="string">&#x27;file2&#x27;</span> 所包含的内容 </span><br><span class="line"><span class="built_in">comm</span> -3 file1 file2 比较两个文件的内容只删除两个文件共有的部分 </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">字符设置和文件格式转换 </span><br><span class="line">dos2unix filedos.txt fileunix.txt 将一个文本文件的格式从MSDOS转换成UNIX </span><br><span class="line">unix2dos fileunix.txt filedos.txt 将一个文本文件的格式从UNIX转换成MSDOS </span><br><span class="line">recode ..HTML &lt; page.txt &gt; page.html 将一个文本文件转换成html </span><br><span class="line">recode -l | more 显示所有允许的转换格式 </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">文件系统分析 </span><br><span class="line">badblocks -v /dev/hda1 检查磁盘hda1上的坏磁块 </span><br><span class="line">fsck /dev/hda1 修复/检查hda1磁盘上linux文件系统的完整性 </span><br><span class="line">fsck.ext2 /dev/hda1 修复/检查hda1磁盘上ext2文件系统的完整性 </span><br><span class="line">e2fsck /dev/hda1 修复/检查hda1磁盘上ext2文件系统的完整性 </span><br><span class="line">e2fsck -j /dev/hda1 修复/检查hda1磁盘上ext3文件系统的完整性 </span><br><span class="line">fsck.ext3 /dev/hda1 修复/检查hda1磁盘上ext3文件系统的完整性 </span><br><span class="line">fsck.vfat /dev/hda1 修复/检查hda1磁盘上fat文件系统的完整性 </span><br><span class="line">fsck.msdos /dev/hda1 修复/检查hda1磁盘上dos文件系统的完整性 </span><br><span class="line">dosfsck /dev/hda1 修复/检查hda1磁盘上dos文件系统的完整性 </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">初始化一个文件系统 </span><br><span class="line">mkfs /dev/hda1 在hda1分区创建一个文件系统 </span><br><span class="line">mke2fs /dev/hda1 在hda1分区创建一个linux ext2的文件系统 </span><br><span class="line">mke2fs -j /dev/hda1 在hda1分区创建一个linux ext3(日志型)的文件系统 </span><br><span class="line">mkfs -t vfat 32 -F /dev/hda1 创建一个 FAT32 文件系统 </span><br><span class="line">fdformat -n /dev/fd0 格式化一个软盘 </span><br><span class="line">mkswap /dev/hda3 创建一个swap文件系统 </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">SWAP文件系统 </span><br><span class="line">mkswap /dev/hda3 创建一个swap文件系统 </span><br><span class="line">swapon /dev/hda3 启用一个新的swap文件系统 </span><br><span class="line">swapon /dev/hda2 /dev/hdb3 启用两个swap分区 </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">备份 </span><br><span class="line">dump -0aj -f /tmp/home0.bak /home 制作一个 <span class="string">&#x27;/home&#x27;</span> 目录的完整备份 </span><br><span class="line">dump -1aj -f /tmp/home0.bak /home 制作一个 <span class="string">&#x27;/home&#x27;</span> 目录的交互式备份 </span><br><span class="line">restore -<span class="keyword">if</span> /tmp/home0.bak 还原一个交互式备份 </span><br><span class="line">rsync -rogpav --delete /home /tmp 同步两边的目录 </span><br><span class="line">rsync -rogpav -e ssh --delete /home ip_address:/tmp 通过SSH通道rsync </span><br><span class="line">rsync -az -e ssh --delete ip_addr:/home/public /home/local 通过ssh和压缩将一个远程目录同步到本地目录 </span><br><span class="line">rsync -az -e ssh --delete /home/local ip_addr:/home/public 通过ssh和压缩将本地目录同步到远程目录 </span><br><span class="line"><span class="built_in">dd</span> bs=1M <span class="keyword">if</span>=/dev/hda | gzip | ssh user@ip_addr <span class="string">&#x27;dd of=hda.gz&#x27;</span> 通过ssh在远程主机上执行一次备份本地磁盘的操作 </span><br><span class="line"><span class="built_in">dd</span> <span class="keyword">if</span>=/dev/sda of=/tmp/file1 备份磁盘内容到一个文件 </span><br><span class="line">tar -Puf backup.tar /home/user 执行一次对 <span class="string">&#x27;/home/user&#x27;</span> 目录的交互式备份操作 </span><br><span class="line">( <span class="built_in">cd</span> /tmp/local/ &amp;&amp; tar c . ) | ssh -C user@ip_addr <span class="string">&#x27;cd /home/share/ &amp;&amp; tar x -p&#x27;</span> 通过ssh在远程目录中复制一个目录内容 </span><br><span class="line">( tar c /home ) | ssh -C user@ip_addr <span class="string">&#x27;cd /home/backup-home &amp;&amp; tar x -p&#x27;</span> 通过ssh在远程目录中复制一个本地目录 </span><br><span class="line">tar cf - . | (<span class="built_in">cd</span> /tmp/backup ; tar xf - ) 本地将一个目录复制到另一个地方，保留原有权限及链接 </span><br><span class="line">find /home/user1 -name <span class="string">&#x27;*.txt&#x27;</span> | xargs <span class="built_in">cp</span> -av --target-directory=/home/backup/ --parents 从一个目录查找并复制所有以 <span class="string">&#x27;.txt&#x27;</span> 结尾的文件到另一个目录 </span><br><span class="line">find /var/log -name <span class="string">&#x27;*.log&#x27;</span> | tar cv --files-from=- | bzip2 &gt; log.tar.bz2 查找所有以 <span class="string">&#x27;.log&#x27;</span> 结尾的文件并做成一个bzip包 </span><br><span class="line"><span class="built_in">dd</span> <span class="keyword">if</span>=/dev/hda of=/dev/fd0 bs=512 count=1 做一个将 MBR (Master Boot Record)内容复制到软盘的动作 </span><br><span class="line"><span class="built_in">dd</span> <span class="keyword">if</span>=/dev/fd0 of=/dev/hda bs=512 count=1 从已经保存到软盘的备份中恢复MBR内容 </span><br><span class="line"></span><br><span class="line"><span class="comment">##网络</span></span><br><span class="line">ifconfig eth0 显示一个以太网卡的配置 </span><br><span class="line">ifup eth0 启用一个 <span class="string">&#x27;eth0&#x27;</span> 网络设备 </span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://zengjunjie1026.github.io/2023/08/21/vim-%E6%8A%80%E5%B7%A7/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="andrew">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="分子美食家的博客">
      <meta itemprop="description" content="做自己爱做的事，爱自己在做的事！">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 分子美食家的博客">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/08/21/vim-%E6%8A%80%E5%B7%A7/" class="post-title-link" itemprop="url">vim 技巧</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2023-08-21 17:38:14 / 修改时间：17:38:27" itemprop="dateCreated datePublished" datetime="2023-08-21T17:38:14+08:00">2023-08-21</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="vim"><a href="#vim" class="headerlink" title="vim"></a>vim</h2><p>vim是一个常用的文本编辑工具，在远程服务器中更改系统配置中经常使用。</p>
<p>基础<br>vim的模式<br>Vim一般分为三种不同的模式，普通模式( normal mode )、编辑模式和命令模式.</p>
<h3 id="普通模式-normal-mode"><a href="#普通模式-normal-mode" class="headerlink" title="普通模式( normal mode )"></a>普通模式( normal mode )</h3><p>使用vim打开文件则进入普通模式。在普通模式下可通过按键 h、j、k、l来控制光标的移动，通过 x、d(delete) 、 y(yank) 、p(put)等按键可对文本进行操作，在该模式下，键盘按键被视为类似 Word下的快捷键的功能，而不是被视为简单的文本输入。</p>
<h3 id="编辑模式"><a href="#编辑模式" class="headerlink" title="编辑模式"></a>编辑模式</h3><p>在编辑模式下可对文件内容进行编辑。编辑模式下按键输入均被视为文本输入，而不再具备普通模式下的各种功能。用户可以通过按键ESC从编辑模式返回普通模式。</p>
<h3 id="命令模式"><a href="#命令模式" class="headerlink" title="命令模式"></a>命令模式</h3><p>在普通模式下，键盘输入 ‘ : ‘、 ‘ &#x2F; ‘、 ‘ ? ‘则光标移动至界面最下行，并等待进一步输入。之后Vim会根据用户输入执行相应的动作，如保存和退出、查找和替换、执行外部命令等。命令模式下同样通过ESC键返回普通模式。</p>
<p>普通模式下的操作文件。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">vim filename　　　//打开名为filename的文件</span><br><span class="line">    :w               //保存修改至源文件</span><br><span class="line">    :wq              //保存修改并退出</span><br><span class="line">    :q!              //不保存修改，直接退出</span><br><span class="line">    :w filename      //保存修改(选中的部分)至filename(其中filename为不存在重名的新文件)</span><br></pre></td></tr></table></figure>
<h2 id="进入编辑模式"><a href="#进入编辑模式" class="headerlink" title="进入编辑模式"></a>进入编辑模式</h2><p>常用小写的i和o即可，i代表当行这个光标位插入，o代表下一行插入。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">i    //insert即插入模式，从光标所在位置开始插入，即插入的内容位于原光标所在位置字符之前</span><br><span class="line">I    //从光标所在行的行首开始插入</span><br><span class="line">a    //append即附加模式，从光标所在位置之后附加，即新增内容位于原光标所在位置字符之后</span><br><span class="line">A    //从光标所在行的行末开始附加</span><br><span class="line">o    //在光标所在行的下一行加入新一行</span><br><span class="line">O    //在光标所在行的上一行加入新一行</span><br><span class="line">R    //进入替换模式，屏幕下方会出现Replace提示，此时的输入会直接替换光标所在位置的字符，与Windows下的 <span class="number">0</span> 作用类似，同样通过ESC键返回</span><br></pre></td></tr></table></figure>
<h2 id="删除操作"><a href="#删除操作" class="headerlink" title="删除操作"></a>删除操作</h2><p>在普通模式下使用dd命令即可删除当行</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">x        //删除光标所在处的字符(其大写形式X为将光标之前的字符删除，相当于Backspace)</span><br><span class="line">dd     　//删除光标所在行的操作(常用)</span><br><span class="line">dw         //删除一个单词</span><br><span class="line">d3w      　//删除三个单词</span><br><span class="line">d$         //删除光标所在处至行尾的字符</span><br><span class="line">d4l        //删除光标所在处起的四个字符</span><br><span class="line">d2j        //删除两行</span><br></pre></td></tr></table></figure>
<p>同样的，如 2dd 指令则表示将dd指令重复两次，即为删除两行操作，2d2w 则表示将 d2w 操作执行两次，即删除四个单词。</p>
<h2 id="复制与粘贴"><a href="#复制与粘贴" class="headerlink" title="复制与粘贴"></a>复制与粘贴</h2><p>复制即通过 v 指令选定文本段，通过 y 指令复制内容，再通过 p 指令将文本放置在指定位置；剪切即通过 v 指令选定文本段，通过 d (或 x )指令删除内容，再通过 p 指令将文本放置在指定的位置； p 指令除了用于复制内容的粘贴外，还可以将上一次删除的内容粘贴在指定的位置，故而可以达到类似剪切的效果。对于 v 指令选中的文本，可以进行多种操作，包括复制(y)、删除(x&#x2F;d)、另存(:w filename)等，读者完全可以自行进行组合尝试。指令y和d的指令形式有许多相同之处，除了均有yy和dd这种针对一行内容的处理指令外，指令y可以与光标移动指令相结合，得到更好的使用效果。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">p                    //put命令，将剪贴的内容(注意，既可以是复制的内容，也可以为之前删除的内容)放置在光标后的位置，其大小字母P则表示放置在光标之前的位置</span><br><span class="line">v                    //进入虚拟选择模式(visual selection)，被选择的文本段被高亮显示(v的选择对象为字符，对应的大写字母V则是以行为单位选择)</span><br><span class="line">　　Ctrl + v　　　　　　　 //以矩形框的形式进行内容选择</span><br><span class="line">y                    //复制通过 v 操作选择的文本，或则其本身也可以与光标移动指令一同使用</span><br><span class="line">y5w                     //如y5w，则复制<span class="number">5</span>个单词(注意复制是从光标所在处开始的)</span><br><span class="line">yy    //复制光标所在行的内容</span><br><span class="line">y0    //复制光标所在位置至行首的内容</span><br><span class="line">y$    //复制光标所在位置至行尾的内容</span><br><span class="line">yG    //复制光标所在位置至文本结束的内容</span><br><span class="line">ynG   //复制指令与nG指令的结合</span><br><span class="line">　　　　　　//以及诸如y3w、y3j等指令</span><br></pre></td></tr></table></figure>

<h2 id="行跳转"><a href="#行跳转" class="headerlink" title="行跳转"></a>行跳转</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">gg        //跳转至文件第一行</span><br><span class="line">G         //跳转至文件最后行</span><br><span class="line">nG        //跳转至文件第 n 行  </span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="撤销"><a href="#撤销" class="headerlink" title="撤销"></a>撤销</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">u            //撤销上一次操作</span><br><span class="line">U            //撤销对光标所在行的所有操作</span><br><span class="line">Ctrl+r    　 //重做上一操作</span><br></pre></td></tr></table></figure>

<h2 id="查找"><a href="#查找" class="headerlink" title="查找"></a>查找</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">/keyword         //按默认方向查找关键字</span><br><span class="line">?keyword         //按与默认方向相反的方向查找关键字</span><br><span class="line">n                //按与之前相同的查找顺序匹配下一个出现相同关键字的位置</span><br><span class="line">N                //按与之前相反的查找顺序匹配下一个出现相同关键字的位置</span><br><span class="line">　　　　　　　　　 //用户也可以通过Ctrl + o 和 Ctrl + i 进行位置的切换</span><br><span class="line"> </span><br></pre></td></tr></table></figure>

<h2 id="替换"><a href="#替换" class="headerlink" title="替换"></a>替换</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">:s/old/new           //将光标所在行出现的第一个old替换为new(仅对该行的第一个old)             </span><br><span class="line">:s/old/new/g      　 // 将光标所在行出现的所有old替换为new            </span><br><span class="line">:s/old/new/gc     　 //同上，替换之前提示用户确认是否替换      </span><br><span class="line">:n,ms/old/new/g　　　//在n和m指定的行之间进行检查和替换    </span><br><span class="line">:%s/old/new/g　　　　//针对整个文本进行替换</span><br></pre></td></tr></table></figure>

<h2 id="修改编辑选项"><a href="#修改编辑选项" class="headerlink" title="修改编辑选项"></a>修改编辑选项</h2><p>修改 ～&#x2F;.vimrc 文件</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">:<span class="built_in">set</span> nu        　//显示行号，相应的<span class="built_in">set</span> nonu则为不显示行号</span><br><span class="line">:<span class="built_in">set</span> ic        　//搜索忽略大小写(ignore <span class="keyword">case</span>),取消即为 <span class="built_in">set</span> noic</span><br><span class="line">:<span class="built_in">set</span> hlsearch    //搜索时匹配的结果高亮显示</span><br><span class="line">:<span class="built_in">set</span> incserch    //设置搜索时的搜索顺序</span><br><span class="line">                //可以看到，在对应的选项前面加入前缀no即表示取消取消对应的选项</span><br><span class="line">:<span class="built_in">set</span> ruler　　　　//右下角展示状态栏</span><br><span class="line">:<span class="built_in">set</span>             //显示与系统默认设置不同的参数情况，即被修改过的参数情况</span><br><span class="line">:<span class="built_in">set</span> syntax on　 //设置Vim会根据语法以不同颜色显示不同的内容</span><br><span class="line">:<span class="built_in">set</span> syntax off</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/14/">14</a><a class="extend next" rel="next" title="下一页" aria-label="下一页" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2023</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">andrew</span>
  </div>
  <div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" rel="noopener" target="_blank">NexT.Muse</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script>

  






  





</body>
</html>
